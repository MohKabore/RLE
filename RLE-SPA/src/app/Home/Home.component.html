<div class="container mt-5" *ngIf="!regionsDetails">
  <h4>chargement en cours...</h4>
  <mdb-progress-bar class="progress primary-color-dark" mode="indeterminate"></mdb-progress-bar>
</div>

<div class="container mt-5 animated mb-1 bounceInDown" *ngIf="regionsDetails">

  <div class="col-md-12 mb-2">
    <mdb-card>
      <mdb-card-body>


        <table style="width: 100%;">
          <tr>
            <td>Personnes à former</td>
            <td>:</td>
            <td>
              <b style="text-align: center; font-size: 22px;">
                {{recap.totalRegistered}}/{{recap.totalRegisteredPrct}},dont
                {{recap.totalReserveToHave}} reservistes</b>
            </td>
          </tr>

          <!-- <tr>
            <td>Total personnes formées</td>
            <td>:</td>
            <td>
              <b style="text-align: center; font-size: 22px;">
                {{recap.totalRegisteredPrct - recap.totalReserveToHave}}
              </b>
            </td>
          </tr> -->

          <tr>
            <td>total personnes enrégistrées</td>
            <td>:</td>
            <td>
              <b style="text-align: center; font-size: 22px;">
                {{recap.totalInserted}}
              </b>
            </td>
          </tr>



        </table>


      </mdb-card-body>
    </mdb-card>

  </div>

  <div *ngFor="let reg of regionsDetails" class="col-md-12 mb-2">
    <mdb-card>
      <mdb-card-body>
        <mdb-card-title class="">
          <h4>{{reg.name}}({{reg.nbEmpNeeded}}) : {{reg.totalRegisteredPrct}} attendus dont {{reg.totalRegistered}}
            présents</h4>
        </mdb-card-title>
        <hr>
        <div class="progress text-left mr-1" style="height: 40px">
          <div *ngIf="reg.prctRegistered<50" class="progress-bar bg-danger" role="progressbar" aria-valuenow="0"
            style="text-align: center; font-size: 25px;" [ngStyle]="{'width': reg.prctRegistered +'%'  }"
            aria-valuemin="0" aria-valuemax="100">
            <b style="text-align: center; font-size: 22px;color: black;"> formation terminée à {{reg.prctRegistered}}% </b>
          </div>

          <div *ngIf="reg.prctRegistered<80 && reg.prctRegistered>=50" class="progress-bar bg-warning"
            role="progressbar" aria-valuenow="0" style="text-align: center; font-size: 25px;"
            [ngStyle]="{'width': reg.prctRegistered +'%'  }" aria-valuemin="0" aria-valuemax="100">
            <b style="text-align: center; font-size: 22px;color: black;"> formation terminée à {{reg.prctRegistered}}% </b>
          </div>

          <div *ngIf="reg.prctRegistered<90 && reg.prctRegistered>=80" class="progress-bar bg-primary"
            role="progressbar" aria-valuenow="0" style="text-align: center; font-size: 25px;"
            [ngStyle]="{'width': reg.prctRegistered +'%'  }" aria-valuemin="0" aria-valuemax="100">
            <b style="text-align: center; font-size: 22px;color: black;"> formation terminée à {{reg.prctRegistered}}% </b>
          </div>

          <div *ngIf="reg.prctRegistered<=100 && reg.prctRegistered>90" class="progress-bar bg-success"
            role="progressbar" aria-valuenow="0" style="text-align: center; font-size: 25px;"
            [ngStyle]="{'width': reg.prctRegistered +'%'  }" aria-valuemin="0" aria-valuemax="100">
            <b style="text-align: center; font-size: 22px;"> formation terminée à {{reg.prctRegistered}}% </b>
          </div>

          <div *ngIf="reg.prctRegistered>100" class="progress-bar bg-dark"
            role="progressbar" aria-valuenow="0" style="text-align: center; font-size: 25px;"
            [ngStyle]="{'width': reg.prctRegistered +'%'  }" aria-valuemin="0" aria-valuemax="100">
            <b style="text-align: center; font-size: 22px;color: black;"> formation terminée à {{reg.prctRegistered}}% </b>
          </div>
        </div>



      </mdb-card-body>
    </mdb-card>

  </div>
</div>